import React from "react";
import { Meta, StoryFn } from "@storybook/react";
import DocumentTableRow from ".";
import { RecoilRoot } from "recoil";
import { IDocumentMetadata } from "@interface/document.interface";
import { EDocumentTypes } from "@interface/enums";

const mockDocument: IDocumentMetadata = {
  id: 1,
  name: "سند تست",
  description: "توضیحات سند تست",
  isHidden: false,
  repoId: 147854,
  type: "document",
  extraDetails: null,
  creator: null,
  createdAt: "2024-10-14",
  updatedAt: null,
  deletedAt: null,
  isTemplate: false,
  categoryId: 0,
  categoryName: "",
  chatThreadId: null,
  contentType: EDocumentTypes.board,
  creatorSSOID: 478596,
  isPublish: false,
  lastVersionId: null,
  tags: [],
  publishExpireTime: null,
  publishLinkPassword: null,
};

const hiddenDocument: IDocumentMetadata = {
  id: 1,
  name: "سند تست",
  description: "توضیحات سند تست",
  isHidden: false,
  repoId: 147854,
  type: "document",
  extraDetails: null,
  creator: null,
  createdAt: "2024-10-14",
  updatedAt: null,
  deletedAt: null,
  isTemplate: false,
  categoryId: 0,
  categoryName: "",
  chatThreadId: null,
  contentType: EDocumentTypes.board,
  creatorSSOID: 478596,
  isPublish: false,
  lastVersionId: null,
  tags: [],
  publishExpireTime: null,
  publishLinkPassword: null,
};

export default {
  title: "Components/Molecules/DocumentTableRow",
  component: DocumentTableRow,
  decorators: [
    (Story) => (
      <RecoilRoot>
        <Story />
      </RecoilRoot>
    ),
  ],
} as Meta<typeof DocumentTableRow>;

const Template: StoryFn<typeof DocumentTableRow> = (args) => (
  <DocumentTableRow {...args} />
);

export const Default = Template.bind({});
Default.args = {
  document: mockDocument,
};

export const HiddenDocument = Template.bind({});
HiddenDocument.args = {
  document: hiddenDocument,
};

export const NoCreator = Template.bind({});
NoCreator.args = {
  document: {
    ...mockDocument,
    creator: null,
  },
};

export const EmptyName = Template.bind({});
EmptyName.args = {
  document: {
    ...mockDocument,
    name: "",
  },
};

export const OrderZero = Template.bind({});
OrderZero.args = {
  document: {
    ...mockDocument,
    order: 0,
  },
};
