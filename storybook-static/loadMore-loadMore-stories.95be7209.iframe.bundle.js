"use strict";(self.webpackChunkclasor_new=self.webpackChunkclasor_new||[]).push([[178],{"./components/molecules/loadMore/loadMore.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Disabled:()=>Disabled,Loading:()=>Loading,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),___WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./components/molecules/loadMore/index.tsx"));const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Molecules/LoadMore",component:___WEBPACK_IMPORTED_MODULE_2__.A,argTypes:{fetchNextPage:{action:"fetchNextPage"},isFetchingNextPage:{control:"boolean"},className:{control:"text"}}},Template={render:args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(___WEBPACK_IMPORTED_MODULE_2__.A,{...args})},Default={...Template,args:{isFetchingNextPage:!1,fetchNextPage:async()=>new Promise((resolve=>setTimeout(resolve,1e3)))}},Loading={...Template,args:{isFetchingNextPage:!0,fetchNextPage:async()=>new Promise((resolve=>setTimeout(resolve,1e3)))}},Disabled={...Template,args:{isFetchingNextPage:!1,fetchNextPage:async()=>new Promise((resolve=>setTimeout(resolve,1e3))),className:"opacity-50"}},__namedExportsOrder=["Default","Loading","Disabled"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  ...Template,\n  args: {\n    isFetchingNextPage: false,\n    fetchNextPage: async () => new Promise(resolve => setTimeout(resolve, 1000))\n  }\n}",...Default.parameters?.docs?.source}}},Loading.parameters={...Loading.parameters,docs:{...Loading.parameters?.docs,source:{originalSource:"{\n  ...Template,\n  args: {\n    isFetchingNextPage: true,\n    fetchNextPage: async () => new Promise(resolve => setTimeout(resolve, 1000))\n  }\n}",...Loading.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:'{\n  ...Template,\n  args: {\n    isFetchingNextPage: false,\n    fetchNextPage: async () => new Promise(resolve => setTimeout(resolve, 1000)),\n    className: "opacity-50"\n  }\n}',...Disabled.parameters?.docs?.source}}}},"./components/molecules/loadMore/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_material_tailwind_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@material-tailwind/react/index.js"),react_intersection_observer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-intersection-observer/dist/index.mjs");const LoadMore=({className,isFetchingNextPage,fetchNextPage})=>{const{ref,inView}=(0,react_intersection_observer__WEBPACK_IMPORTED_MODULE_3__.Wx)();return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{inView&&!isFetchingNextPage&&fetchNextPage()}),[inView]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_material_tailwind_react__WEBPACK_IMPORTED_MODULE_2__.Button,{ref,placeholder:"load more",className:`${className} mt-2 bg-transparent p-0 shadow-none hover:shadow-none`,onClick:()=>{fetchNextPage()},disabled:isFetchingNextPage,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"spinner"})})},__WEBPACK_DEFAULT_EXPORT__=LoadMore;LoadMore.__docgenInfo={description:"",methods:[],displayName:"LoadMore",props:{className:{required:!1,tsType:{name:"string"},description:""},isFetchingNextPage:{required:!0,tsType:{name:"boolean"},description:""},fetchNextPage:{required:!0,tsType:{name:"signature",type:"function",raw:"(\r\n  options?: FetchNextPageOptions\r\n) => Promise<InfiniteQueryObserverResult<any, Error>>",signature:{arguments:[{type:{name:"FetchNextPageOptions"},name:"options"}],return:{name:"Promise",elements:[{name:"InfiniteQueryObserverResult",elements:[{name:"any"},{name:"Error"}],raw:"InfiniteQueryObserverResult<any, Error>"}],raw:"Promise<InfiniteQueryObserverResult<any, Error>>"}}},description:""}}}},"./node_modules/react-intersection-observer/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Wx:()=>useInView});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__defProp=Object.defineProperty,__publicField=(obj,key,value)=>((obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value)(obj,"symbol"!=typeof key?key+"":key,value),observerMap=new Map,RootIds=new WeakMap,rootId=0,unsupportedValue=void 0;function optionsToId(options){return Object.keys(options).sort().filter((key=>void 0!==options[key])).map((key=>`${key}_${"root"===key?function getRootId(root){return root?(RootIds.has(root)||(rootId+=1,RootIds.set(root,rootId.toString())),RootIds.get(root)):"0"}(options.root):options[key]}`)).toString()}function observe(element,callback,options={},fallbackInView=unsupportedValue){if(void 0===window.IntersectionObserver&&void 0!==fallbackInView){const bounds=element.getBoundingClientRect();return callback(fallbackInView,{isIntersecting:fallbackInView,target:element,intersectionRatio:"number"==typeof options.threshold?options.threshold:0,time:0,boundingClientRect:bounds,intersectionRect:bounds,rootBounds:bounds}),()=>{}}const{id,observer,elements}=function createObserver(options){const id=optionsToId(options);let instance=observerMap.get(id);if(!instance){const elements=new Map;let thresholds;const observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{var _a;const inView=entry.isIntersecting&&thresholds.some((threshold=>entry.intersectionRatio>=threshold));options.trackVisibility&&void 0===entry.isVisible&&(entry.isVisible=inView),null==(_a=elements.get(entry.target))||_a.forEach((callback=>{callback(inView,entry)}))}))}),options);thresholds=observer.thresholds||(Array.isArray(options.threshold)?options.threshold:[options.threshold||0]),instance={id,observer,elements},observerMap.set(id,instance)}return instance}(options),callbacks=elements.get(element)||[];return elements.has(element)||elements.set(element,callbacks),callbacks.push(callback),observer.observe(element),function unobserve(){callbacks.splice(callbacks.indexOf(callback),1),0===callbacks.length&&(elements.delete(element),observer.unobserve(element)),0===elements.size&&(observer.disconnect(),observerMap.delete(id))}}react__WEBPACK_IMPORTED_MODULE_0__.Component;function useInView({threshold,delay,trackVisibility,rootMargin,root,triggerOnce,skip,initialInView,fallbackInView,onChange}={}){var _a;const[ref,setRef]=react__WEBPACK_IMPORTED_MODULE_0__.useState(null),callback=react__WEBPACK_IMPORTED_MODULE_0__.useRef(),[state,setState]=react__WEBPACK_IMPORTED_MODULE_0__.useState({inView:!!initialInView,entry:void 0});callback.current=onChange,react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{if(skip||!ref)return;let unobserve;return unobserve=observe(ref,((inView,entry)=>{setState({inView,entry}),callback.current&&callback.current(inView,entry),entry.isIntersecting&&triggerOnce&&unobserve&&(unobserve(),unobserve=void 0)}),{root,rootMargin,threshold,trackVisibility,delay},fallbackInView),()=>{unobserve&&unobserve()}}),[Array.isArray(threshold)?threshold.toString():threshold,ref,root,rootMargin,triggerOnce,skip,trackVisibility,fallbackInView,delay]);const entryTarget=null==(_a=state.entry)?void 0:_a.target,previousEntryTarget=react__WEBPACK_IMPORTED_MODULE_0__.useRef();ref||!entryTarget||triggerOnce||skip||previousEntryTarget.current===entryTarget||(previousEntryTarget.current=entryTarget,setState({inView:!!initialInView,entry:void 0}));const result=[setRef,state.inView,state.entry];return result.ref=result[0],result.inView=result[1],result.entry=result[2],result}}}]);