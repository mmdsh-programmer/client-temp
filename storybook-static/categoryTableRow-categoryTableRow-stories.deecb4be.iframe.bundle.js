"use strict";(self.webpackChunkclasor_new=self.webpackChunkclasor_new||[]).push([[836],{"./components/molecules/categoryTableRow/categoryTableRow.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>categoryTableRow_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),es=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/recoil/es/index.js")),category=__webpack_require__("./atom/category.ts"),utils=__webpack_require__("./utils/index.ts");const bulkItems=(0,es.eU)({key:"bulkItems",default:[],effects:[({onSet})=>{onSet(((newValue,oldValue)=>{(0,utils.vF)("bulkItems",newValue,oldValue)}))}]});(0,es.eU)({key:"bulkMove",default:!1}),(0,es.eU)({key:"bulkDelete",default:!1});var react_toastify_esm=__webpack_require__("./node_modules/react-toastify/dist/react-toastify.esm.mjs"),_material_tailwind_react=__webpack_require__("./node_modules/@material-tailwind/react/index.js"),icons=__webpack_require__("./components/atoms/icons/index.tsx"),tableCell=__webpack_require__("./components/molecules/tableCell/index.tsx"),categoryMenuStory=__webpack_require__("./components/molecules/categoryMenu/categoryMenuStory.tsx");const CategoryTableRow=({category:categoryProp})=>{var _categoryProp_creator,_categoryProp_creator1;const setCategoryParent=(0,es.lZ)(category.WC),[getBulkItems,setBulkItems]=(0,es.L4)(bulkItems);return(0,jsx_runtime.jsx)(tableCell.A,{onClick:()=>{setCategoryParent(categoryProp),setBulkItems([])},tableCell:[{data:(0,jsx_runtime.jsx)(_material_tailwind_react.Checkbox,{crossOrigin:"",onChange:e=>{const isChecked=e.target.checked;if(isChecked&&getBulkItems.length+1>10)return e.target.checked=!1,void react_toastify_esm.oR.error("نمیتوانید بیش از 10 ایتم را انتخاب کنید");setBulkItems((oldValue=>isChecked?[...oldValue,categoryProp]:[...oldValue].filter((item=>item.id!==categoryProp.id))||[]))},checked:getBulkItems.some((bulkItem=>bulkItem.id===categoryProp.id))})},{data:categoryProp.order||0===categoryProp.order?categoryProp.order:"--",title:String(categoryProp.order)||"--"},{data:(0,jsx_runtime.jsxs)("div",{className:"flex",children:[(0,jsx_runtime.jsx)(icons.sj,{className:"stroke-blue-gray-600 w-5 h-5 min-w-[20px] min-h-[20px]"}),(0,jsx_runtime.jsxs)("span",{className:"flex gap-2 mr-2 text-ellipsis overflow-hidden w-12 sm:w-20 md:w-auto",title:categoryProp.name,children:[categoryProp.isHidden&&(0,jsx_runtime.jsx)(icons.Lf,{className:"w-5 h-5 flex-none"}),categoryProp.name]})]})},{data:categoryProp.createdAt?(0,utils.iU)(+categoryProp.createdAt):"--",title:categoryProp.createdAt?(0,utils.iU)(+categoryProp.createdAt):"--"},{data:categoryProp.updatedAt?(0,utils.iU)(+categoryProp.updatedAt):"--",title:categoryProp.updatedAt?(0,utils.iU)(+categoryProp.updatedAt):"--"},{data:(null===(_categoryProp_creator=categoryProp.creator)||void 0===_categoryProp_creator?void 0:_categoryProp_creator.userName)||"--",title:(null===(_categoryProp_creator1=categoryProp.creator)||void 0===_categoryProp_creator1?void 0:_categoryProp_creator1.userName)||"--"},{data:(0,jsx_runtime.jsx)(categoryMenuStory.A,{category:categoryProp})}]},`category-table-item-${categoryProp.id}`)},categoryTableRowStory=CategoryTableRow;CategoryTableRow.__docgenInfo={description:"",methods:[],displayName:"CategoryTableRow",props:{category:{required:!0,tsType:{name:"ICategoryMetadata"},description:""}}};const mockCategory={id:1,name:"دسته بندی تست",description:"توضیحات دسته بندی تست",isHidden:!1,repoId:147854,type:"category",extraDetails:null,creator:null,createdAt:null,updatedAt:null,deletedAt:null,parentId:null,active:!1,isTemplate:!1,userGroupHash:null},categoryTableRow_stories={title:"components/Molecules/CategoryTableRow",component:categoryTableRowStory,parameters:{backgrounds:{default:"light"},layout:"centered"},decorators:[Story=>(0,jsx_runtime.jsx)(es.bi,{children:(0,jsx_runtime.jsx)(Story,{})})]},Default={decorators:[Story=>(0,jsx_runtime.jsx)(es.bi,{initializeState:({set})=>{set(bulkItems,[]),set(category.WC,null)},children:(0,jsx_runtime.jsx)(Story,{})})],render:args=>(0,jsx_runtime.jsx)(categoryTableRowStory,{...args,category:mockCategory})},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  decorators: [Story => <RecoilRoot initializeState={({\n    set\n  }) => {\n    set(bulkItems, []);\n    set(categoryShow, null);\n  }}>\r\n        <Story />\r\n      </RecoilRoot>],\n  render: args => <CategoryTableRow {...args} category={mockCategory} />\n}",...Default.parameters?.docs?.source}}}},"./components/molecules/categoryMenu/categoryMenuStory.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_atom_category__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./atom/category.ts"),_components_templates_drawerTemplate__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./components/templates/drawerTemplate/index.tsx"),_components_templates_menuTemplate__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./components/templates/menuTemplate/index.tsx"),recoil__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/recoil/es/index.js");const CategoryMenuStory=({category:categoryProp,showDrawer})=>{const setCategory=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.lZ)(_atom_category__WEBPACK_IMPORTED_MODULE_2__.L1),[editCategoryModal,setEditCategoryModal]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[deleteCategoryModal,setDeleteCategoryModal]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[moveModal,setMoveModal]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[hideModal,setHideModal]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[visibleModal,setVisibleModal]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[CategoryAccessModal,setCategoryAccessModal]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[createCategoryModal,setCreateCategoryModal]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[createDocumentModal,setCreateDocumentModal]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[createTemplateModal,setCreateTemplateModal]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[openCategoryActionDrawer,setOpenCategoryActionDrawer]=(0,recoil__WEBPACK_IMPORTED_MODULE_5__.L4)(_atom_category__WEBPACK_IMPORTED_MODULE_2__.r9),menuList=[{text:"ساخت زیردسته بندی",onClick:()=>{setCreateCategoryModal(!0),categoryProp&&setCategory(categoryProp)}},{text:"ساخت سند",onClick:()=>{setCreateDocumentModal(!0),categoryProp&&setCategory(categoryProp)}},{text:"ساخت  نمونه سند",onClick:()=>{setCreateTemplateModal(!0),categoryProp&&setCategory(categoryProp)}},{text:"انتقال",onClick:()=>{setMoveModal(!0),categoryProp&&setCategory(categoryProp)}},{text:"ویرایش دسته بندی",onClick:()=>{setEditCategoryModal(!0),categoryProp&&setCategory(categoryProp)}},{text:"حذف دسته بندی",onClick:()=>{setDeleteCategoryModal(!0),categoryProp&&setCategory(categoryProp)}},{text:(null==categoryProp?void 0:categoryProp.isHidden)?"عدم مخفی سازی":"مخفی سازی",onClick:()=>{(null==categoryProp?void 0:categoryProp.isHidden)?setVisibleModal(!0):setHideModal(!0),categoryProp&&setCategory(categoryProp)}},{text:"دسترسی دسته‌بندی",onClick:()=>{setCategoryAccessModal(!0),categoryProp&&setCategory(categoryProp)}}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:showDrawer?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"xs:hidden flex",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_templates_drawerTemplate__WEBPACK_IMPORTED_MODULE_3__.A,{openDrawer:openCategoryActionDrawer,setOpenDrawer:setOpenCategoryActionDrawer,menuList})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_templates_menuTemplate__WEBPACK_IMPORTED_MODULE_4__.A,{setOpenDrawer:()=>{setCategory(categoryProp||null),setOpenCategoryActionDrawer(!0)},menuList})})},__WEBPACK_DEFAULT_EXPORT__=CategoryMenuStory;CategoryMenuStory.__docgenInfo={description:"",methods:[],displayName:"CategoryMenuStory",props:{category:{required:!1,tsType:{name:"ICategoryMetadata"},description:""},showDrawer:{required:!1,tsType:{name:"boolean"},description:""}}}},"./components/molecules/tableCell/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),next_navigation__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"));const TableCell=({tableCell,navigateTo,onClick})=>{const router=(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tr",{className:"cursor-pointer text-[13px] font-normal text-primary border-b-[1px] border-normal",onClick:()=>{null==onClick||onClick(),navigateTo&&router.push(navigateTo)},children:tableCell.map(((row,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{title:row.title,className:`p-4 truncate font-iranYekan ${row.className||""}`,onClick:e=>{index===tableCell.length-1&&e.stopPropagation()},rowSpan:row.rowSpan,colSpan:row.colSpan,children:row.data},index)))})},__WEBPACK_DEFAULT_EXPORT__=TableCell;TableCell.__docgenInfo={description:"",methods:[],displayName:"TableCell",props:{tableCell:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\r\n  data: string | React.ReactNode;\r\n  title?: string;\r\n  className?: string;\r\n  rowSpan?: number;\r\n  colSpan?: number;\r\n  onClick?: () => void;\r\n}",signature:{properties:[{key:"data",value:{name:"union",raw:"string | React.ReactNode",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"}],required:!0}},{key:"title",value:{name:"string",required:!1}},{key:"className",value:{name:"string",required:!1}},{key:"rowSpan",value:{name:"number",required:!1}},{key:"colSpan",value:{name:"number",required:!1}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!1}}]}}],raw:"{\r\n  data: string | React.ReactNode;\r\n  title?: string;\r\n  className?: string;\r\n  rowSpan?: number;\r\n  colSpan?: number;\r\n  onClick?: () => void;\r\n}[]"},description:""},navigateTo:{required:!1,tsType:{name:"string"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./node_modules/react-toastify/dist/react-toastify.esm.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{oR:()=>B});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const c=e=>"number"==typeof e&&!isNaN(e),d=e=>"string"==typeof e,u=e=>"function"==typeof e,m=e=>(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(e)||d(e)||u(e)||c(e);function g(t){let{enter:a,exit:r,appendPosition:i=!1,collapse:l=!0,collapseDuration:c=300}=t;return function(t){let{children:d,position:u,preventExitTransition:p,done:m,nodeRef:g,isIn:y,playToast:v}=t;const h=i?`${a}--${u}`:a,T=i?`${r}--${u}`:r,E=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{const e=g.current,t=h.split(" "),n=o=>{o.target===g.current&&(v(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===E.current&&"animationcancel"!==o.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const e=g.current,t=()=>{e.removeEventListener("animationend",t),l?function f(e,t,n){void 0===n&&(n=300);const{scrollHeight:o,style:s}=e;requestAnimationFrame((()=>{s.minHeight="initial",s.height=o+"px",s.transition=`all ${n}ms`,requestAnimationFrame((()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)}))}))}(e,m,c):m()};y||(p?t():(E.current=1,e.className+=` ${T}`,e.addEventListener("animationend",t)))}),[y]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,d)}}const v=new Map;let h=[];const T=new Set,b=()=>v.size>0;function I(e,t){var n;if(t)return!(null==(n=v.get(t))||!n.isToastActive(e));let o=!1;return v.forEach((t=>{t.isToastActive(e)&&(o=!0)})),o}function _(e,t){m(e)&&(b()||h.push({content:e,options:t}),v.forEach((n=>{n.buildToast(e,t)})))}function C(e,t){v.forEach((n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}let w=1;const k=()=>""+w++;function P(e){return e&&(d(e.toastId)||c(e.toastId))?e.toastId:k()}function M(e,t){return _(e,t),t.toastId}function x(e,t){return{...t,type:t&&t.type||e,toastId:P(t)}}function A(e){return(t,n)=>M(t,x(e,n))}function B(e,t){return M(e,x("default",t))}B.loading=(e,t)=>M(e,x("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),B.promise=function(e,t,n){let o,{pending:s,error:a,success:r}=t;s&&(o=d(s)?B.loading(s,n):B.loading(s.render,{...n,...s}));const i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void B.dismiss(o);const a={type:e,...i,...n,data:s},r=d(t)?{render:t}:t;return o?B.update(o,{...a,...r}):B(r.render,{...a,...r}),s},c=u(e)?e():e;return c.then((e=>l("success",r,e))).catch((e=>l("error",a,e))),c},B.success=A("success"),B.info=A("info"),B.error=A("error"),B.warning=A("warning"),B.warn=B.warning,B.dark=(e,t)=>M(e,x("default",{theme:"dark",...t})),B.dismiss=function(e){!function(e){var t;if(b()){if(null==e||d(t=e)||c(t))v.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=v.get(e.containerId);t?t.removeToast(e.id):v.forEach((t=>{t.removeToast(e.id)}))}}else h=h.filter((t=>null!=e&&t.options.toastId!==e))}(e)},B.clearWaitingQueue=function(e){void 0===e&&(e={}),v.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},B.isActive=I,B.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:o}=t;return null==(n=v.get(o||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:o,content:s}=n,a={delay:100,...o,...t,toastId:t.toastId||e,updateId:k()};a.toastId!==e&&(a.staleId=e);const r=a.render||s;delete a.render,M(r,a)}},B.done=e=>{B.update(e,{progress:1})},B.onChange=function(e){return T.add(e),()=>{T.delete(e)}},B.play=e=>C(!0,e),B.pause=e=>C(!1,e);"undefined"!=typeof window?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;const S=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}};g(S("bounce",!0)),g(S("slide",!0)),g(S("zoom")),g(S("flip"))}}]);